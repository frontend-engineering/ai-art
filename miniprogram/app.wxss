/**
 * AI全家福·团圆照相馆 - 全局样式
 * 复用原网页设计风格，使用 rpx 单位适配小程序
 */

/* 导入通用导航栏样式 */
@import "styles/common-navigation.wxss";

/* ========================================
   CSS 变量定义（小程序不支持 :root，使用 page）
   ======================================== */
page {
  /* 统一色调系统 */
  --color-festival-red: #D4302B;      /* 主色：中国红 */
  --color-festival-gold: #D4AF37;     /* 辅色：金色 */
  --color-festival-warm: #FFF8F0;     /* 背景：暖白 */
  --color-festival-red-light: #E84A3D; /* 红色渐变辅助色 */
  --color-festival-red-dark: #B82820;  /* 红色深色 */
  
  /* 字体大小（rpx 单位） */
  --font-size-title-lg: 56rpx;   /* 大标题 */
  --font-size-title-md: 48rpx;   /* 中标题 */
  --font-size-body: 32rpx;       /* 正文 */
  --font-size-caption: 28rpx;    /* 说明文字 */
  
  /* 统一圆角规范 */
  --border-radius-festival: 16rpx;     /* 标准圆角 */
  --border-radius-festival-lg: 24rpx;  /* 大圆角 */
  
  /* 统一阴影规范 */
  --shadow-festival: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);
  --shadow-festival-hover: 0 8rpx 32rpx rgba(0, 0, 0, 0.12);
  
  /* 基础样式 */
  font-family: "PingFang SC", "Source Han Sans CN", -apple-system, sans-serif;
  font-size: var(--font-size-body);
  line-height: 1.5;
  background-color: var(--color-festival-warm);
  color: #1F2937;
}


/* ========================================
   全局动画
   ======================================== */

/* 淡入动画 */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20rpx); }
  to { opacity: 1; transform: translateY(0); }
}

/* 脉冲动画 */
@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* 灯笼摇摆动画 */
@keyframes lanternSwing {
  0%, 100% { transform: rotate(-3deg); }
  50% { transform: rotate(3deg); }
}

/* 灯笼旋转动画 */
@keyframes lanternSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* 烟花绽放动画 */
@keyframes fireworkBurst {
  0% { transform: scale(0); opacity: 1; }
  100% { transform: scale(1.5); opacity: 0; }
}

/* 进度条闪光动画 */
@keyframes progressShine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* 图片加载占位动画 */
@keyframes imgLoading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

.animate-pulse-slow {
  animation: pulse 2s ease-in-out infinite;
}

.animate-lantern-swing {
  animation: lanternSwing 3s ease-in-out infinite;
}

.animate-lantern-spin {
  animation: lanternSpin 2s linear infinite;
}

.animate-firework-burst {
  animation: fireworkBurst 1s ease-out forwards;
}

/* ========================================
   全局样式重置
   ======================================== */

view, text, image, button, input, textarea {
  box-sizing: border-box;
}

button {
  padding: 0;
  margin: 0;
  background: transparent;
  border: none;
  outline: none;
}

button::after {
  border: none;
}

image {
  display: block;
}

/* ========================================
   移动端容器
   ======================================== */

.mobile-container {
  min-height: 100vh;
  width: 100%;
  overflow-x: hidden;
  background-color: var(--color-festival-warm);
}

/* ========================================
   安全区域适配 - 小程序最佳实践
   ======================================== */

/* 安全区域内边距 */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

/* 页面容器 - 全屏高度，包含安全区域 */
.page-container {
  position: relative;
  min-height: 100vh;
  width: 100%;
  box-sizing: border-box;
  overflow-x: hidden;
}

/* 页面内容区域 - 自动适配安全区域 */
.page-content {
  position: relative;
  z-index: 10;
  min-height: 100vh;
  padding-top: env(safe-area-inset-top);
  padding-bottom: calc(32rpx + env(safe-area-inset-bottom));
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  box-sizing: border-box;
}

/* 页面内容区域 - 有导航栏时使用 */
.page-content-with-nav {
  position: relative;
  z-index: 10;
  min-height: 100vh;
  padding-bottom: calc(32rpx + env(safe-area-inset-bottom));
  box-sizing: border-box;
}

/* 底部固定按钮区域 */
.mobile-bottom-fixed {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 32rpx;
  padding-bottom: calc(32rpx + env(safe-area-inset-bottom));
  background: linear-gradient(to top, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.8) 100%);
  z-index: 100;
}

/* 底部固定按钮区域 - 透明背景 */
.mobile-bottom-fixed-transparent {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 32rpx;
  padding-bottom: calc(32rpx + env(safe-area-inset-bottom));
  z-index: 100;
}

/* 顶部固定工具栏 */
.mobile-top-fixed {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  padding: 16rpx 32rpx;
  padding-top: calc(16rpx + env(safe-area-inset-top));
  z-index: 100;
}

/* 自定义导航栏容器 */
.custom-navbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  padding-top: env(safe-area-inset-top);
  background: transparent;
}

.custom-navbar-content {
  height: 88rpx;
  display: flex;
  align-items: center;
  padding: 0 32rpx;
}

/* 滚动容器 - 适配底部安全区域 */
.scroll-container {
  height: 100vh;
  padding-bottom: env(safe-area-inset-bottom);
  box-sizing: border-box;
}


/* ========================================
   统一字体样式工具类
   ======================================== */

.text-title {
  font-size: var(--font-size-title-lg);
  font-weight: bold;
  line-height: 1.3;
}

.text-subtitle {
  font-size: var(--font-size-title-md);
  font-weight: bold;
  line-height: 1.3;
}

.text-body {
  font-size: var(--font-size-body);
  line-height: 1.5;
}

.text-caption {
  font-size: var(--font-size-caption);
  line-height: 1.5;
  color: #9CA3AF;
}

/* ========================================
   统一按钮样式
   ======================================== */

.btn-festival {
  border-radius: var(--border-radius-festival);
  box-shadow: var(--shadow-festival);
  transition: all 0.1s ease;
  min-width: 96rpx;
  min-height: 96rpx;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-festival:active {
  transform: scale(0.95);
  opacity: 0.9;
}

/* 主要按钮：红色渐变背景，白色粗体字 */
.btn-primary {
  background: linear-gradient(135deg, var(--color-festival-red) 0%, var(--color-festival-red-light) 100%);
  color: white;
  font-weight: bold;
  border: none;
}

.btn-primary:active {
  background: linear-gradient(135deg, var(--color-festival-red-dark) 0%, var(--color-festival-red) 100%);
}

/* 次要按钮：白色背景，红色边框+文字 */
.btn-secondary {
  background: white;
  color: var(--color-festival-red);
  font-weight: 600;
  border: 4rpx solid var(--color-festival-red);
}

.btn-secondary:active {
  background: rgba(212, 48, 43, 0.1);
}

/* 金色功能按钮 */
.btn-function-gold {
  background: linear-gradient(135deg, var(--color-festival-gold) 0%, #F4CF47 100%);
  color: white;
  font-weight: 600;
}

/* 禁用状态 */
.btn-disabled {
  opacity: 0.5;
}

/* ========================================
   统一卡片样式
   ======================================== */

.card-festival {
  border-radius: var(--border-radius-festival);
  box-shadow: var(--shadow-festival);
  background: white;
}

/* ========================================
   统一弹窗样式
   ======================================== */

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background: white;
  border-radius: var(--border-radius-festival-lg);
  box-shadow: var(--shadow-festival-hover);
  max-width: 90%;
  max-height: 90vh;
  overflow: hidden;
  position: relative;
}

/* 弹窗顶部红色装饰条 */
.modal-content::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 8rpx;
  background: linear-gradient(90deg, 
    var(--color-festival-red) 0%, 
    var(--color-festival-red-light) 50%, 
    var(--color-festival-red) 100%
  );
}

.modal-title {
  font-size: 40rpx;
  font-weight: bold;
  color: var(--color-festival-red);
  text-align: center;
  padding: 40rpx 32rpx 24rpx;
}

.modal-body {
  padding: 0 32rpx 32rpx;
}


/* ========================================
   加载与提示样式
   ======================================== */

/* 加载动画：旋转灯笼 */
.loading-lantern {
  width: 160rpx;
  height: 160rpx;
  font-size: 160rpx;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: lanternSpin 2s linear infinite;
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 32rpx;
  padding: 64rpx;
}

.loading-text {
  font-size: 28rpx;
  color: #6B7280;
  font-weight: 500;
}

/* 进度条样式 */
.progress-bar {
  width: 100%;
  height: 16rpx;
  background: #E5E7EB;
  border-radius: 9999rpx;
  overflow: hidden;
  position: relative;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, 
    var(--color-festival-red) 0%, 
    var(--color-festival-red-light) 50%, 
    var(--color-festival-gold) 100%
  );
  border-radius: 9999rpx;
  transition: width 0.3s ease-out;
  position: relative;
}

.progress-bar-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.3) 50%, 
    transparent 100%
  );
  animation: progressShine 1.5s ease-in-out infinite;
}

.progress-text {
  text-align: right;
  font-size: 24rpx;
  color: #6B7280;
  margin-top: 8rpx;
  font-weight: 500;
}

/* ========================================
   节日装饰元素
   ======================================== */

.festival-decoration {
  pointer-events: none;
}

/* 灯笼装饰 */
.festival-lantern {
  font-size: 96rpx;
  opacity: 0.6;
  animation: lanternSwing 3s ease-in-out infinite;
}

/* 福字装饰 */
.festival-fu {
  font-size: 80rpx;
  color: var(--color-festival-red);
  opacity: 0.7;
}

/* 红绸装饰 */
.festival-ribbon {
  position: absolute;
  width: 100%;
  height: 8rpx;
  background: linear-gradient(90deg, 
    transparent 0%, 
    var(--color-festival-red) 20%, 
    var(--color-festival-gold) 50%, 
    var(--color-festival-red) 80%, 
    transparent 100%
  );
  opacity: 0.6;
}

/* ========================================
   老年模式样式
   ======================================== */

/* 老年模式基础容器 */
.elder-mode {
  /* 基础字体放大 */
}

/* 老年模式 - 通用文字放大（使用更高优先级） */
view.elder-mode text,
.elder-mode view text,
.elder-mode text {
  font-size: 120%;
}

.elder-mode .text-title {
  font-size: 67rpx; /* 56rpx * 1.2 */
}

.elder-mode .text-subtitle {
  font-size: 58rpx; /* 48rpx * 1.2 */
}

.elder-mode .text-body {
  font-size: 38rpx; /* 32rpx * 1.2 */
}

.elder-mode .text-caption {
  font-size: 34rpx; /* 28rpx * 1.2 */
}

/* 老年模式 - 按钮放大（使用更高优先级） */
view.elder-mode button,
view.elder-mode .btn-festival,
view.elder-mode view[class*="btn"],
view.elder-mode view[class*="-btn"],
.elder-mode button,
.elder-mode .btn-festival,
.elder-mode view[class*="btn"],
.elder-mode view[class*="-btn"] {
  transform: scale(1.15);
  transform-origin: center;
}

/* ========================================
   图片占位样式
   ======================================== */

.img-placeholder {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: imgLoading 1.5s infinite;
}

/* ========================================
   通用工具类
   ======================================== */

.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.flex-column {
  display: flex;
  flex-direction: column;
}

.flex-row {
  display: flex;
  flex-direction: row;
}

.flex-1 {
  flex: 1;
}

.text-center {
  text-align: center;
}

.text-red {
  color: var(--color-festival-red);
}

.text-gold {
  color: var(--color-festival-gold);
}

.text-white {
  color: white;
}

.text-gray {
  color: #6B7280;
}

.bg-warm {
  background-color: var(--color-festival-warm);
}

.bg-red {
  background-color: var(--color-festival-red);
}

.bg-white {
  background-color: white;
}

.w-full {
  width: 100%;
}

.h-full {
  height: 100%;
}

.p-32 {
  padding: 32rpx;
}

.px-32 {
  padding-left: 32rpx;
  padding-right: 32rpx;
}

.py-32 {
  padding-top: 32rpx;
  padding-bottom: 32rpx;
}

.mt-32 {
  margin-top: 32rpx;
}

.mb-32 {
  margin-bottom: 32rpx;
}

.gap-16 {
  gap: 16rpx;
}

.gap-24 {
  gap: 24rpx;
}

.gap-32 {
  gap: 32rpx;
}

.rounded {
  border-radius: var(--border-radius-festival);
}

.rounded-lg {
  border-radius: var(--border-radius-festival-lg);
}

.shadow {
  box-shadow: var(--shadow-festival);
}

.overflow-hidden {
  overflow: hidden;
}

.relative {
  position: relative;
}

.absolute {
  position: absolute;
}

.fixed {
  position: fixed;
}

.inset-0 {
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

.z-10 {
  z-index: 10;
}

.z-50 {
  z-index: 50;
}

.z-100 {
  z-index: 100;
}
