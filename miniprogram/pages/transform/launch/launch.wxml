<!--
  å¯Œè´µå˜èº«æ¨¡å¼å¯åŠ¨é¡µ - å¤ç”¨åŸç½‘é¡µ TransformLaunchScreen æ ·å¼
  Requirements: 2.3
-->
<view class="transform-launch-page page-with-nav {{isElderMode ? 'elder-mode' : ''}}">
  <!-- å››è§’è£…é¥°èƒŒæ™¯ -->
  <corner-background />
  
  <!-- é‡‘è‰²æ¸å˜èƒŒæ™¯ -->
  <view class="launch-bg"></view>
  
  <!-- å¤§å°å­—åˆ‡æ¢æŒ‰é’®ï¼ˆå·¦ä¸Šè§’å›ºå®šä½ç½®ï¼‰ -->
  <view class="elder-mode-toggle-fixed">
    <elder-mode-toggle />
  </view>
  
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="nav-bar">
    <view class="nav-left">
      <view class="back-btn" bindtap="goBack">
        <text class="back-icon">â€¹</text>
      </view>
    </view>
    <text class="nav-title">å¯Œè´µå˜èº«</text>
    <view class="nav-right"></view>
  </view>
  
  <!-- ä¸»å†…å®¹åŒº -->
  <view class="launch-content">
    <!-- ä½¿ç”¨æ¬¡æ•°æ˜¾ç¤º -->
    <usage-display 
      usageCount="{{usageCount}}" 
      userType="{{userType}}"
      isElderMode="{{isElderMode}}"
    />
    
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <view class="title-section animate-fade-in">
      <text class="slogan-text">è¿™ä¸ªæ˜¥èŠ‚ï¼Œè®©çˆ±æ²¡æœ‰è·ç¦»</text>
    </view>
    
    <!-- æ¨¡å¼å›¾æ ‡å’Œåç§° -->
    <view class="mode-section animate-scale-in">
      <view class="mode-icon-wrapper">
        <image 
          class="mode-icon-image" 
          src="/assets/wealth-icon.png" 
          mode="aspectFill"
          binderror="onImageError"
          bindload="onImageLoad"
        />
      </view>
      <text class="mode-name">{{modeConfig.name}}</text>
      <text class="mode-slogan">{{modeConfig.slogan}}</text>
    </view>
    
    <!-- é¢„è§ˆåŒºåŸŸ -->
    <view class="preview-section animate-fade-in">
      <view class="preview-card">
        <view class="preview-before">
          <view class="preview-placeholder">
            <image class="preview-image" src="/assets/preview-before.png" mode="aspectFill" />
          </view>
        </view>
        <view class="preview-arrow">
          <text class="arrow-text">â†’</text>
        </view>
        <view class="preview-after">
          <view class="preview-placeholder gold">
            <image class="preview-image" src="/assets/preview-after.png" mode="aspectFill" />
          </view>
        </view>
      </view>
    </view>
    
    <!-- åŠŸèƒ½è¯´æ˜ -->
    <view class="description-section animate-fade-in">
      <view class="description-card">
        <text class="description-text">{{modeConfig.description}}</text>
      </view>
      <view class="guide-card">
        <text class="guide-text">{{modeConfig.uploadGuide}}</text>
      </view>
    </view>
    
    <!-- ç«‹å³åˆ¶ä½œæŒ‰é’® -->
    <view class="action-section">
      <view class="start-btn {{buttonDisabled ? 'disabled' : ''}}" bindtap="handleStart" hover-class="{{buttonDisabled ? '' : 'start-btn-hover'}}">
        <view class="btn-inner">
          <text class="btn-text">{{buttonText}}</text>
        </view>
        <!-- å…‰æ•ˆåŠ¨ç”» -->
        <view class="btn-shine" wx:if="{{!buttonDisabled}}"></view>
      </view>
      
      <!-- æˆ‘çš„è®°å½•æŒ‰é’® -->
      <view class="history-btn" bindtap="handleHistory" hover-class="history-btn-hover">
        <text class="history-icon">ğŸ•</text>
        <text class="history-text">æˆ‘çš„è®°å½•</text>
      </view>
      
      <!-- AIç”Ÿæˆæç¤º -->
      <view class="ai-notice">
        <text class="ai-notice-text">æœ¬æœåŠ¡ä¸ºAIç”Ÿæˆå†…å®¹ï¼Œç»“æœä»…ä¾›å‚è€ƒ</text>
      </view>
    </view>
  </view>
  
  <!-- ä½¿ç”¨æ¬¡æ•°æ¨¡æ€æ¡† -->
  <usage-modal
    visible="{{showModal}}"
    modalType="{{modalType}}"
    usageCount="{{usageCount}}"
    isElderMode="{{isElderMode}}"
    bind:close="onModalClose"
    bind:payment="onModalPayment"
    bind:share="onModalShare"
  />
  
  <!-- æ”¯ä»˜æ¨¡æ€æ¡† -->
  <payment-modal
    visible="{{showPaymentModal}}"
    isElderMode="{{isElderMode}}"
    bind:complete="onPaymentComplete"
    bind:close="closePaymentModal"
  />
</view>
