<!--
  富贵变身模式上传页 - 复用原网页 TransformUploadPage 样式
  Requirements: 2.3, 6.1-6.5
-->
<view class="upload-page page-with-nav {{isElderMode ? 'elder-mode' : ''}}">
  <!-- 四角装饰背景 -->
  <corner-background />
  
  <!-- 背景 -->
  <view class="upload-bg"></view>
  
  <!-- 模式名称副标题栏 -->
  <view class="mode-subtitle-bar">
    <text class="mode-icon">👑</text>
    <text class="mode-name">富贵变身</text>
  </view>
  
  <!-- 顶部导航栏 -->
  <view class="nav-bar">
    <view class="back-btn" bindtap="goBack">
      <text class="back-icon">‹</text>
    </view>
    <text class="nav-title">上传照片</text>
    <elder-mode-toggle />
  </view>
  
  <!-- 主内容区 -->
  <view class="upload-content">
    <!-- 标题说明 -->
    <view class="title-section">
      <text class="title-text">上传一张全家福</text>
      <text class="subtitle-text">AI将为您更换高端背景</text>
    </view>
    
    <!-- 上传区域 -->
    <view 
      class="upload-area {{isUploading ? 'uploading' : ''}}" 
      bindtap="handleUploadClick"
      hover-class="{{isUploading ? '' : 'upload-area-hover'}}"
    >
      <!-- 上传提示 -->
      <view class="upload-prompt" wx:if="{{!isUploading && !errorMessage}}">
        <view class="upload-icon-wrapper">
          <text class="upload-icon">📷</text>
        </view>
        <text class="upload-text">点击上传照片</text>
        <text class="upload-hint">支持 JPG、PNG 格式，最大 10MB</text>
        
        <!-- 示例提示 -->
        <view class="example-tips">
          <view class="tip-item">
            <text class="tip-icon">✓</text>
            <text class="tip-text">正面清晰照片</text>
          </view>
          <view class="tip-item">
            <text class="tip-icon">✓</text>
            <text class="tip-text">人脸完整可见</text>
          </view>
          <view class="tip-item">
            <text class="tip-icon">✓</text>
            <text class="tip-text">光线充足</text>
          </view>
        </view>
      </view>
      
      <!-- 上传中状态 -->
      <view class="uploading-state" wx:if="{{isUploading}}">
        <view class="loading-spinner">
          <loading />
        </view>
        <text class="status-text">{{statusText}}</text>
        <view class="progress-bar" wx:if="{{uploadProgress > 0 && uploadProgress < 100}}">
          <view class="progress-fill" style="width: {{uploadProgress}}%"></view>
        </view>
      </view>
      
      <!-- 错误状态 -->
      <view class="error-state" wx:if="{{errorMessage && !isUploading}}">
        <view class="error-content">
          <text class="error-icon">⚠️</text>
          <text class="error-text">{{errorMessage}}</text>
          <view class="retry-btn" bindtap="clearError" catchtap="clearError">
            <text class="retry-text">重新上传</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- 底部提示 -->
    <view class="bottom-tips">
      <text class="tips-text">💡 提示：上传清晰的正面照片效果更好</text>
    </view>
  </view>
</view>
