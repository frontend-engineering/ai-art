<!-- 音乐开关组件 -->
<view 
  class="music-toggle {{position}} {{isMusicEnabled ? 'enabled' : 'disabled'}}"
  bindtap="toggleMusic"
>
  <view class="toggle-btn">
    <!-- 内圈装饰 -->
    <view class="inner-ring"></view>
    
    <!-- 音乐图标区域 -->
    <view class="icon-wrapper">
      <view wx:if="{{isMusicEnabled}}" class="music-icon">
        <!-- 音符图标 -->
        <view class="note-icon {{isPlaying ? 'playing' : ''}}">♪</view>
        
        <!-- 播放时的音波效果 -->
        <view wx:if="{{isPlaying}}" class="sound-waves">
          <view class="wave wave-1"></view>
          <view class="wave wave-2"></view>
          <view class="wave wave-3"></view>
        </view>
      </view>
      
      <view wx:else class="muted-icon">
        <!-- 静音状态 - 带斜线的音符 -->
        <view class="note-icon muted">♪</view>
        <view class="mute-line"></view>
      </view>
    </view>
    
    <!-- 播放状态光晕 -->
    <view wx:if="{{isMusicEnabled && isPlaying}}" class="glow-ring glow-1"></view>
    <view wx:if="{{isMusicEnabled && isPlaying}}" class="glow-ring glow-2"></view>
    
    <!-- 状态文字标签 -->
    <view class="status-label {{isMusicEnabled ? 'enabled' : 'disabled'}}">
      <text>{{isMusicEnabled ? (isPlaying ? '播放中' : '已暂停') : '已静音'}}</text>
    </view>
  </view>
</view>
