# å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

### Windows PowerShell
```powershell
# 1. å¯åŠ¨ Docker ä¾èµ–
docker-compose up -d

# 2. å¯åŠ¨åç«¯ï¼ˆåœ¨æ–°ç»ˆç«¯ï¼‰
cd backend
pnpm run dev

# 3. å¯åŠ¨å‰ç«¯ï¼ˆåœ¨æ–°ç»ˆç«¯ï¼‰
pnpm run dev
```

### macOS/Linux
```bash
# 1. å¯åŠ¨ Docker ä¾èµ–
docker-compose up -d

# 2. å¯åŠ¨åç«¯ï¼ˆåœ¨æ–°ç»ˆç«¯ï¼‰
cd backend && pnpm run dev

# 3. å¯åŠ¨å‰ç«¯ï¼ˆåœ¨æ–°ç»ˆç«¯ï¼‰
pnpm run dev
```

---

## å¼€å‘è€…æ¨¡å¼æ¿€æ´»

### å¿«é€Ÿæ¿€æ´»
åœ¨å°ç¨‹åºçš„ä»»ä½• Launch é¡µé¢ï¼ˆæ—¶ç©ºæ‹¼å›¾æˆ–å¯Œè´µå˜èº«ï¼‰ï¼Œ**å¿«é€Ÿç‚¹å‡»å¯¼èˆªæ  5 æ¬¡**

**é¢„æœŸæ•ˆæœ**ï¼š
- çœ‹åˆ° Toast æç¤ºï¼š`ğŸ”§ å¼€å‘è€…æ¨¡å¼å·²æ¿€æ´»`
- æ˜¾ç¤ºå¼€å‘è€…é¢æ¿

### ä½¿ç”¨å¼€å‘è€…é¢æ¿

#### å¿«é€Ÿè®¾ç½®æŒ‰é’®
ä¸€é”®è®¾ç½®å¸¸ç”¨æ¬¡æ•°ï¼š
- **0 æ¬¡** - æµ‹è¯•æ— æ¬¡æ•°æƒ…å†µ
- **1 æ¬¡** - æµ‹è¯•å•æ¬¡ç”Ÿæˆ
- **3 æ¬¡** - é»˜è®¤å…è´¹æ¬¡æ•°
- **5 æ¬¡** - ä¸­ç­‰æ¬¡æ•°
- **10 æ¬¡** - å……è¶³æ¬¡æ•°
- **99 æ¬¡** - æµ‹è¯•å……è¶³æƒ…å†µ

#### è‡ªå®šä¹‰è®¾ç½®
1. åœ¨è¾“å…¥æ¡†è¾“å…¥ä»»æ„éè´Ÿæ•´æ•°
2. ç‚¹å‡»"è®¾ç½®æ¬¡æ•°"æŒ‰é’®ç›´æ¥è®¾ç½®
3. æˆ–ç‚¹å‡»"å¢åŠ æ¬¡æ•°"æŒ‰é’®å¢åŠ æŒ‡å®šæ•°é‡

---

## éªŒè¯æ¸…å•

### âœ… æ£€æŸ¥ Docker å®¹å™¨
```bash
docker-compose ps
```

**é¢„æœŸè¾“å‡º**ï¼šMySQL å’Œ Redis éƒ½åº”è¯¥æ˜¯ `Up` çŠ¶æ€

### âœ… æ£€æŸ¥æ•°æ®åº“è¿æ¥
```bash
cd backend
pnpm run db:test
```

**é¢„æœŸè¾“å‡º**ï¼š`âœ… MySQL ç›´è¿æˆåŠŸ`

### âœ… æ£€æŸ¥åç«¯ API
è®¿é—®æµè§ˆå™¨æˆ–ä½¿ç”¨ curlï¼š
```bash
curl http://localhost:3001/api/dev/status
```

**é¢„æœŸå“åº”**ï¼š
```json
{
  "success": true,
  "devMode": true,
  "environment": "development",
  "message": "å¼€å‘è€…æ¨¡å¼å·²å¯ç”¨"
}
```

### âœ… æ£€æŸ¥å°ç¨‹åºç™»å½•
åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€å°ç¨‹åºï¼Œåº”è¯¥èƒ½æ­£å¸¸ç™»å½•

### âœ… æ¿€æ´»å¼€å‘è€…æ¨¡å¼
1. è¿›å…¥æ—¶ç©ºæ‹¼å›¾æˆ–å¯Œè´µå˜èº«é¡µé¢
2. å¿«é€Ÿç‚¹å‡»å¯¼èˆªæ  5 æ¬¡
3. çœ‹åˆ°å¼€å‘è€…é¢æ¿å‡ºç°

---

## å¸¸è§é—®é¢˜

### âŒ åç«¯å¯åŠ¨å¤±è´¥

**æ£€æŸ¥æ•°æ®åº“**ï¼š
```bash
cd backend
pnpm run db:test
```

**æ£€æŸ¥ä¾èµ–**ï¼š
```bash
pnpm install
```

### âŒ ç«¯å£ 3001 è¢«å ç”¨

```bash
# æŸ¥çœ‹å ç”¨è¿›ç¨‹
netstat -ano | findstr :3001

# æ€æ­»è¿›ç¨‹ï¼ˆæ›¿æ¢ PIDï¼‰
taskkill /PID <PID> /F
```

### âŒ å°ç¨‹åºæ— æ³•è¿æ¥åç«¯

1. ç¡®ä¿åç«¯è¿è¡Œåœ¨ `http://localhost:3001`
2. ç¡®ä¿å°ç¨‹åºé…ç½®ä¸­ `USE_LOCAL_SERVER = true`
3. é‡æ–°åŠ è½½å°ç¨‹åºï¼ˆCtrl+Shift+Rï¼‰

### âŒ å¼€å‘è€…æ¨¡å¼æ— æ³•æ¿€æ´»

1. ç¡®ä¿åç«¯è¿è¡Œåœ¨å¼€å‘ç¯å¢ƒï¼ˆ`NODE_ENV=development`ï¼‰
2. ç¡®ä¿åœ¨ Launch é¡µé¢ï¼ˆæ—¶ç©ºæ‹¼å›¾æˆ–å¯Œè´µå˜èº«ï¼‰
3. å¿«é€Ÿç‚¹å‡»å¯¼èˆªæ  5 æ¬¡ï¼ˆä¸æ˜¯å…¶ä»–åŒºåŸŸï¼‰
4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

---

## åç«¯æœåŠ¡çŠ¶æ€

å½“å‰åç«¯æœåŠ¡å·²å¯åŠ¨ï¼š
- ğŸš€ æœåŠ¡åœ°å€ï¼šhttp://localhost:3001
- ğŸ”§ å¼€å‘è€…æ¨¡å¼ï¼šå·²å¯ç”¨
- ğŸ“Š ç¯å¢ƒï¼šdevelopment
- ğŸ’¾ æ•°æ®åº“ï¼šMySQL å·²è¿æ¥
- ğŸ”´ Redisï¼šå·²è¿æ¥

---

## ä¸‹æ¬¡å¯åŠ¨

åªéœ€è¿è¡Œï¼š
```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨ä¾èµ–
docker-compose up -d

# ç»ˆç«¯2ï¼šå¯åŠ¨åç«¯
cd backend && pnpm run dev

# ç»ˆç«¯3ï¼šå¯åŠ¨å‰ç«¯ï¼ˆå¯é€‰ï¼‰
pnpm run dev
```

ç„¶ååœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€å°ç¨‹åºå³å¯ã€‚


---

## æ‰“åŒ…ä½“ç§¯ä¼˜åŒ–

### âœ… å·²å®Œæˆ OSS è¿ç§»

æ‰€æœ‰å¤§æ–‡ä»¶å·²æˆåŠŸè¿ç§»åˆ° OSS äº‘å­˜å‚¨ï¼Œä¸»åŒ…ä½“ç§¯å¤§å¹…å‡å°‘ï¼š

**å·²è¿ç§»æ–‡ä»¶**ï¼š
- `wealth-icon.png` - 5.3MB â†’ OSS
- `lantern.mp4` - 4.1MB â†’ OSS
- `camera-upload.png` - 881KB â†’ OSS
- `preview-before.png` - 439KB â†’ OSS
- `preview-after.png` - 326KB â†’ OSS

**OSS åœ°å€**ï¼š`https://wms.webinfra.cloud/miniprogram-assets/`

**å·²æ›´æ–°é¡µé¢**ï¼š
- âœ… Transform Launch - wealth-icon.png, preview-before.png, preview-after.png
- âœ… Transform Upload - camera-upload.png
- âœ… Transform Generating - lantern.png
- âœ… Puzzle Upload - camera-upload.png
- âœ… Puzzle Generating - lantern.mp4
- âœ… Loading ç»„ä»¶ - lantern.png
- âœ… Four Grid Selector ç»„ä»¶ - lantern.png

**æœ¬åœ°ä¿ç•™**ï¼š
- `lantern.png` - 36.7KBï¼ˆå°æ–‡ä»¶ï¼Œä¿ç•™æœ¬åœ°ï¼‰

### é‡æ–°ä¸Šä¼ èµ„æºï¼ˆå¦‚éœ€è¦ï¼‰

```bash
# ä¸Šä¼ æ–°èµ„æºåˆ° OSS
pnpm run upload:miniprogram-assets
```

ä¸Šä¼ è„šæœ¬ä¼šè‡ªåŠ¨æ›´æ–° `miniprogram/utils/oss-assets.js` é…ç½®æ–‡ä»¶ã€‚

